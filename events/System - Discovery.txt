#---------------------------------------
# Discovery
#---------------------------------------
namespace = wwu_discovery

# Compendium of Azeroth
country_event = {
	id = wwu_discovery.1
	title = wwu_discovery.1.title
	desc = wwu_discovery.1.desc
	picture = GATHER_YOUR_PARTY_eventPicture
    
    trigger = {
        OR = {
            is_year = 700
            AND = {
                ai = yes
                is_year = 600
            }
        }
        NOT = { has_country_flag = automatic_discovery_completed }
    }
    
    immediate = {
        hidden_effect = {
            set_country_flag = automatic_discovery_completed
        }
    }
	
    mean_time_to_happen = {
		days = 1
    }
    
	option = {
		name = wwu_discovery.1.option.a
	
        custom_tooltip = WORLD_DISCOVERED
    
        hidden_effect = {
            reveal_all_discovery = yes
        }
	}
}

# Discovery to apply to new nations
country_event = {
	id = wwu_discovery.2
	title = wwu_discovery.2.title
	desc = wwu_discovery.2.desc
	picture = GATHER_YOUR_PARTY_eventPicture
    
    is_triggered_only = yes
    hidden = yes
    
    mean_time_to_happen = {
		days = 1
    }
    
	option = {
		name = wwu_discovery.1.option.a
	
        setup_world_discovery = yes
	}
}

# Scourge Discovery
country_event = {
	id = wwu_discovery.3
	title = wwu_discovery.3.title
	desc = wwu_discovery.3.desc
	picture = GATHER_YOUR_PARTY_eventPicture
    
    hidden = yes
    
    trigger = {
        NOT = { has_country_flag = scourge_discovery_done }
        
        OR = {
            tag = P11
            tag = P12
            tag = P13
            tag = P52
            tag = F21
        }
    }
    
	mean_time_to_happen = { 
        days = 1
    }
    
	option = {
		name = wwu_discovery.3.option.a
		
        set_country_flag = scourge_discovery_done
        
        discover_eastern_kingdoms = yes
        discover_northrend = yes
        discover_broken_isles = yes
        discover_outland = yes
        discover_draenor = yes
	}
}