namespace = wwu_doctrine

#-------------------------
# Doctrine
#-------------------------
country_event = {
	id = wwu_doctrine.1
	title = wwu_doctrine.1.title
	desc = wwu_doctrine.1.desc
	picture = MYSTERIOUS_TOME_eventPicture
	
	is_triggered_only = yes
    
    # Army Doctrine
	option = {
		name = wwu_doctrine.1.option.army_doctrine
        
        trigger = {
            is_at_war = no
        }
        
        country_event = { id = wwu_doctrine.4 }
	}
    option = {
		name = wwu_doctrine.1.option.army_doctrine.invalid
        
        trigger = {
            is_at_war = yes
        }
        
        custom_tooltip = DOCTRINE_CHANGE_BLOCKED_TT
        
        hidden_effect = {
            country_event = { id = wwu_doctrine.52 }
        }
	}
    
    # Homeland Doctrine
	option = {
		name = wwu_doctrine.1.option.homeland_doctrine
        
        trigger = {
            is_at_war = no
        }
        
        country_event = { id = wwu_doctrine.3 }
	}
    option = {
		name = wwu_doctrine.1.option.homeland_doctrine.invalid
        
        trigger = {
            is_at_war = yes
        }
        
        custom_tooltip = DOCTRINE_CHANGE_BLOCKED_TT
        
        hidden_effect = {
            country_event = { id = wwu_doctrine.52 }
        }
	}
    
    # Siege Doctrine
	option = {
		name = wwu_doctrine.1.option.siege_doctrine
        
        trigger = {
            is_at_war = no
        }
        
        country_event = { id = wwu_doctrine.2 }
	}
    # Siege Doctrine - INVALID
	option = {
		name = wwu_doctrine.1.option.siege_doctrine.invalid
        
        trigger = {
            is_at_war = yes
        }
        
        custom_tooltip = DOCTRINE_CHANGE_BLOCKED_TT
        
        hidden_effect = {
            country_event = { id = wwu_doctrine.52 }
        }
	}
    
    # Insurrection Doctrine
	option = {
		name = wwu_doctrine.1.option.rebel_doctrine
        
        trigger = {
            NOT = { num_of_rebel_armies = 1 }
        }
        
        country_event = { id = wwu_doctrine.5 }
	}
    # Insurrection Doctrine - INVALID
	option = {
		name = wwu_doctrine.1.option.rebel_doctrine.invalid
        
        trigger = {
            num_of_rebel_armies = 1
        }
        
        custom_tooltip = DOCTRINE_CHANGE_BLOCKED_REBELS_TT
        
        hidden_effect = {
            country_event = { id = wwu_doctrine.52 }
        }
	}
    
    # Exit
    option = {
		name = wwu_doctrine.1.option.exit
        
	}
}

#-------------------------
# Siege Doctrine
#-------------------------
country_event = {
	id = wwu_doctrine.2
	title = wwu_doctrine.2.title
	desc = wwu_doctrine.2.desc
	picture = FLAME_CANNON_eventPicture
	
	is_triggered_only = yes
    
    # Standard - NOT SELECTED
	option = {
		name = wwu_doctrine.2.option.standard
    
        trigger = {
            NOT = { has_country_flag = siege_type_1 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_STANDARD_TT
        
        hidden_effect = {
            clear_siege_doctrine_flags = yes
            set_country_flag = siege_type_1
        }
        
        ai_chance = {
            factor = 20
        }
    }
    # Standard - SELECTED
	option = {
		name = wwu_doctrine.2.option.standard.selected
    
        trigger = {
            has_country_flag = siege_type_1
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_STANDARD_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Standard - INVALID
	option = {
		name = wwu_doctrine.2.option.standard.invalid
    
        trigger = {
            NOT = { has_country_flag = siege_type_1 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_STANDARD_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Sow Terror - NOT SELECTED
	option = {
		name = wwu_doctrine.2.option.sow_terror
    
        trigger = {
            NOT = { has_country_flag = siege_type_2 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_SOW_TERROR_TT
        
        hidden_effect = {
            clear_siege_doctrine_flags = yes
            set_country_flag = siege_type_2
        }
        
        ai_chance = {
            factor = 20
        }
    }
    # Sow Terror - SELECTED
	option = {
		name = wwu_doctrine.2.option.sow_terror.selected
    
        trigger = {
            has_country_flag = siege_type_2
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_SOW_TERROR_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Sow Terror - INVALID
	option = {
		name = wwu_doctrine.2.option.sow_terror.invalid
    
        trigger = {
            NOT = { has_country_flag = siege_type_2 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_SOW_TERROR_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Slash and Burn - NOT SELECTED
	option = {
		name = wwu_doctrine.2.option.slash_and_burn
    
        trigger = {
            NOT = { has_country_flag = siege_type_3 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_SLASH_AND_BURN_TT
        
        hidden_effect = {
            clear_siege_doctrine_flags = yes
            set_country_flag = siege_type_3
        }
        
        ai_chance = {
            factor = 20
        }
    }
    # Slash and Burn - SELECTED
	option = {
		name = wwu_doctrine.2.option.slash_and_burn.selected
    
        trigger = {
            has_country_flag = siege_type_3
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_SLASH_AND_BURN_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Slash and Burn - INVALID
	option = {
		name = wwu_doctrine.2.option.slash_and_burn.invalid
    
        trigger = {
            NOT = { has_country_flag = siege_type_3 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_SLASH_AND_BURN_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Coup de Grace - NOT SELECTED
	option = {
		name = wwu_doctrine.2.option.coup_de_grace
    
        trigger = {
            NOT = { has_country_flag = siege_type_4 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_COUP_DE_GRACE_TT
        
        hidden_effect = {
            clear_siege_doctrine_flags = yes
            set_country_flag = siege_type_4
        }
        
        ai_chance = {
            factor = 20
        }
    }
    # Coup de Grace - SELECTED
	option = {
		name = wwu_doctrine.2.option.coup_de_grace.selected
    
        trigger = {
            has_country_flag = siege_type_4
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_COUP_DE_GRACE_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Coup de Grace - INVALID
	option = {
		name = wwu_doctrine.2.option.coup_de_grace.invalid
    
        trigger = {
            NOT = { has_country_flag = siege_type_4 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_COUP_DE_GRACE_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Exit
    option = {
		name = wwu_doctrine.2.option.return
        
        # Change for AI to make no change
        ai_chance = {
            factor = 20
        }
	}
    
    after = {
        hidden_effect = {
            if = {
                limit = {
                    ai = no
                }
                country_event = { id = wwu_doctrine.1 }
            }
        }
    }
}

#-------------------------
# Homeland Doctrine
#-------------------------
country_event = {
	id = wwu_doctrine.3
	title = wwu_doctrine.3.title
	desc = wwu_doctrine.3.desc
	picture = AVENGE_eventPicture
	
	is_triggered_only = yes
    
    # Resignation - NOT SELECTED
	option = {
		name = wwu_doctrine.3.option.resignation
    
        trigger = {
            NOT = { has_country_flag = homeland_type_1 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = HOMELAND_DOCTRINE_RESIGNATION_TT
        
        hidden_effect = {
            clear_homeland_doctrine_flags = yes
            set_country_flag = homeland_type_1
        }
        
        ai_chance = {
            factor = 20
        }
    }
    # Resignation - SELECTED
	option = {
		name = wwu_doctrine.3.option.resignation.selected
    
        trigger = {
            has_country_flag = homeland_type_1
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = HOMELAND_DOCTRINE_RESIGNATION_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Resignation - INVALID
	option = {
		name = wwu_doctrine.3.option.resignation.invalid
    
        trigger = {
            NOT = { has_country_flag = homeland_type_1 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = HOMELAND_DOCTRINE_RESIGNATION_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Martyrdom - NOT SELECTED
	option = {
		name = wwu_doctrine.3.option.martyrdom
    
        trigger = {
            NOT = { has_country_flag = homeland_type_2 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = HOMELAND_DOCTRINE_MARTYRDOM_TT
        
        hidden_effect = {
            clear_homeland_doctrine_flags = yes
            set_country_flag = homeland_type_2
        }
        
        ai_chance = {
            factor = 20
        }
    }
    # Martyrdom - SELECTED
	option = {
		name = wwu_doctrine.3.option.martyrdom.selected
    
        trigger = {
            has_country_flag = homeland_type_2
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = HOMELAND_DOCTRINE_MARTYRDOM_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Martyrdom - INVALID
	option = {
		name = wwu_doctrine.3.option.martyrdom.invalid
    
        trigger = {
            NOT = { has_country_flag = homeland_type_2 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = HOMELAND_DOCTRINE_MARTYRDOM_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Sabotage - NOT SELECTED
	option = {
		name = wwu_doctrine.3.option.sabotage
    
        trigger = {
            NOT = { has_country_flag = homeland_type_3 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = HOMELAND_DOCTRINE_SABOTAGE_TT
        
        hidden_effect = {
            clear_homeland_doctrine_flags = yes
            set_country_flag = homeland_type_3
        }
        
        ai_chance = {
            factor = 20
        }
    }
    # Sabotage - SELECTED
	option = {
		name = wwu_doctrine.3.option.sabotage.selected
    
        trigger = {
            has_country_flag = homeland_type_3
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = HOMELAND_DOCTRINE_SABOTAGE_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Sabotage - INVALID
	option = {
		name = wwu_doctrine.3.option.sabotage.invalid
    
        trigger = {
            NOT = { has_country_flag = homeland_type_3 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = HOMELAND_DOCTRINE_SABOTAGE_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Slander - NOT SELECTED
	option = {
		name = wwu_doctrine.3.option.slander
    
        trigger = {
            NOT = { has_country_flag = homeland_type_4 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = HOMELAND_DOCTRINE_SLANDER_TT
        
        hidden_effect = {
            clear_homeland_doctrine_flags = yes
            set_country_flag = homeland_type_3
        }
        
        ai_chance = {
            factor = 20
        }
    }
    # Slander - SELECTED
	option = {
		name = wwu_doctrine.3.option.slander.selected
    
        trigger = {
            has_country_flag = homeland_type_4
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = HOMELAND_DOCTRINE_SLANDER_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Slander - INVALID
	option = {
		name = wwu_doctrine.3.option.slander.invalid
    
        trigger = {
            NOT = { has_country_flag = homeland_type_4 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = HOMELAND_DOCTRINE_SLANDER_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Exit
    option = {
		name = wwu_doctrine.3.option.return
        
        ai_chance = {
            factor = 20
        }
	}
    
    after = {
        hidden_effect = {
            if = {
                limit = {
                    ai = no
                }
                country_event = { id = wwu_doctrine.1 }
            }
        }
    }
}

#-------------------------
# Army Doctrine
#-------------------------
country_event = {
	id = wwu_doctrine.4
	title = wwu_doctrine.4.title
	desc = wwu_doctrine.4.desc
	picture = CRUEL_TASKMASTER_eventPicture
	
	is_triggered_only = yes
    
    # Jack of Trades - NOT SELECTED
	option = {
		name = wwu_doctrine.4.option.jack_of_trades
    
        trigger = {
            NOT = { has_country_flag = army_doctrine_type_1 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = ARMY_DOCTRINE_JACK_OF_TRADES_TT
        
        hidden_effect = {
            clear_army_doctrine_flags = yes
            set_country_flag = army_doctrine_type_1
        }
        
        ai_chance = {
            factor = 0
        }
    }
    # Jack of Trades - SELECTED
	option = {
		name = wwu_doctrine.4.option.jack_of_trades.selected
    
        trigger = {
            has_country_flag = army_doctrine_type_1
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = ARMY_DOCTRINE_JACK_OF_TRADES_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Jack of Trades - INVALID
	option = {
		name = wwu_doctrine.4.option.jack_of_trades.invalid
    
        trigger = {
            NOT = { has_country_flag = army_doctrine_type_1 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = ARMY_DOCTRINE_JACK_OF_TRADES_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Overwhelming Firepower - NOT SELECTED
	option = {
		name = wwu_doctrine.4.option.overwhelming_firepower
    
        trigger = {
            full_idea_group = wwu_quality_ideas
            NOT = { has_country_flag = army_doctrine_type_2 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = ARMY_DOCTRINE_OVERWHELMING_FIREPOWER_TT
        
        hidden_effect = {
            clear_army_doctrine_flags = yes
            set_country_flag = army_doctrine_type_2
        }
        
        ai_chance = {
            factor = 0
        }
    }
    # Overwhelming Firepower - SELECTED
	option = {
		name = wwu_doctrine.4.option.overwhelming_firepower.selected
    
        trigger = {
            full_idea_group = wwu_quality_ideas
            has_country_flag = army_doctrine_type_2
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = ARMY_DOCTRINE_OVERWHELMING_FIREPOWER_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Overwhelming Firepower - INVALID
	option = {
		name = wwu_doctrine.4.option.overwhelming_firepower.invalid
    
        trigger = {
            full_idea_group = wwu_quality_ideas
            NOT = { has_country_flag = army_doctrine_type_2 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = ARMY_DOCTRINE_OVERWHELMING_FIREPOWER_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Overwhelming Firepower - NOT UNLOCKED
	option = {
		name = wwu_doctrine.4.option.overwhelming_firepower.invalid
    
        trigger = {
            NOT = { full_idea_group = wwu_quality_ideas }
        }
        
        custom_tooltip = DOCTRINE_LACK_QUALITY_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = ARMY_DOCTRINE_OVERWHELMING_FIREPOWER_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Mobile Warfare - NOT SELECTED
	option = {
		name = wwu_doctrine.4.option.mobile_warfare
    
        trigger = {
            full_idea_group = wwu_offensive_ideas
            NOT = { has_country_flag = army_doctrine_type_3 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = ARMY_DOCTRINE_MOBILE_WARFARE_TT
        
        hidden_effect = {
            clear_army_doctrine_flags = yes
            set_country_flag = army_doctrine_type_3
        }
        
        ai_chance = {
            factor = 0
        }
    }
    # Mobile Warfare - SELECTED
	option = {
		name = wwu_doctrine.4.option.mobile_warfare.selected
    
        trigger = {
            full_idea_group = wwu_offensive_ideas
            has_country_flag = army_doctrine_type_3
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = ARMY_DOCTRINE_MOBILE_WARFARE_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Mobile Warfare - INVALID
	option = {
		name = wwu_doctrine.4.option.mobile_warfare.invalid
    
        trigger = {
            full_idea_group = wwu_offensive_ideas
            NOT = { has_country_flag = army_doctrine_type_3 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = ARMY_DOCTRINE_MOBILE_WARFARE_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Mobile Warfare - NOT UNLOCKED
	option = {
		name = wwu_doctrine.4.option.mobile_warfare.invalid
    
        trigger = {
            NOT = { full_idea_group = wwu_offensive_ideas }
        }
        
        custom_tooltip = DOCTRINE_LACK_OFFENSIVE_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = ARMY_DOCTRINE_MOBILE_WARFARE_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Mass Assault - NOT SELECTED
	option = {
		name = wwu_doctrine.4.option.mass_assault
    
        trigger = {
            full_idea_group = wwu_quantity_ideas
            NOT = { has_country_flag = army_doctrine_type_4 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = ARMY_DOCTRINE_MASS_ASSAULT_TT
        
        hidden_effect = {
            clear_army_doctrine_flags = yes
            set_country_flag = army_doctrine_type_4
        }
        
        ai_chance = {
            factor = 0
        }
    }
    # Mass Assault - SELECTED
	option = {
		name = wwu_doctrine.4.option.mass_assault.selected
    
        trigger = {
            full_idea_group = wwu_quantity_ideas
            has_country_flag = army_doctrine_type_4
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = ARMY_DOCTRINE_MASS_ASSAULT_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Mass Assault - INVALID
	option = {
		name = wwu_doctrine.4.option.mass_assault.invalid
    
        trigger = {
            full_idea_group = wwu_quantity_ideas
            NOT = { has_country_flag = army_doctrine_type_4 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = ARMY_DOCTRINE_MASS_ASSAULT_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Mass Assault - NOT UNLOCKED
	option = {
		name = wwu_doctrine.4.option.mass_assault.invalid
    
        trigger = {
            NOT = { full_idea_group = wwu_quantity_ideas }
        }
        
        custom_tooltip = DOCTRINE_LACK_QUANTITY_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = ARMY_DOCTRINE_MASS_ASSAULT_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Thundering Onslaught - NOT SELECTED
	option = {
		name = wwu_doctrine.4.option.thundering_onslaught
    
        trigger = {
            full_idea_group = wwu_tribal_ideas
            NOT = { has_country_flag = army_doctrine_type_5 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = ARMY_DOCTRINE_THUNDERING_ONSLAUGHT_TT
        
        hidden_effect = {
            clear_army_doctrine_flags = yes
            set_country_flag = army_doctrine_type_5
        }
        
        ai_chance = {
            factor = 0
        }
    }
    # Thundering Onslaught - SELECTED
	option = {
		name = wwu_doctrine.4.option.thundering_onslaught.selected
    
        trigger = {
            full_idea_group = wwu_tribal_ideas
            has_country_flag = army_doctrine_type_5
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = ARMY_DOCTRINE_THUNDERING_ONSLAUGHT_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Thundering Onslaught - INVALID
	option = {
		name = wwu_doctrine.4.option.thundering_onslaught.invalid
    
        trigger = {
            full_idea_group = wwu_tribal_ideas
            NOT = { has_country_flag = army_doctrine_type_5 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = ARMY_DOCTRINE_THUNDERING_ONSLAUGHT_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Thundering Onslaught - NOT UNLOCKED
	option = {
		name = wwu_doctrine.4.option.thundering_onslaught.invalid
    
        trigger = {
            NOT = { full_idea_group = wwu_tribal_ideas }
        }
        
        custom_tooltip = DOCTRINE_LACK_TRIBAL_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = ARMY_DOCTRINE_THUNDERING_ONSLAUGHT_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Defensive Posture - NOT SELECTED
	option = {
		name = wwu_doctrine.4.option.defensive_posture
    
        trigger = {
            full_idea_group = wwu_defensive_ideas
            NOT = { has_country_flag = army_doctrine_type_6 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = ARMY_DOCTRINE_DEFENSIVE_POSTURE_TT
        
        hidden_effect = {
            clear_army_doctrine_flags = yes
            set_country_flag = army_doctrine_type_6
        }
        
        ai_chance = {
            factor = 0
        }
    }
    # Defensive Posture - SELECTED
	option = {
		name = wwu_doctrine.4.option.defensive_posture.selected
    
        trigger = {
            full_idea_group = wwu_defensive_ideas
            has_country_flag = army_doctrine_type_6
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = ARMY_DOCTRINE_DEFENSIVE_POSTURE_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Defensive Posture - INVALID
	option = {
		name = wwu_doctrine.4.option.defensive_posture.invalid
    
        trigger = {
            full_idea_group = wwu_defensive_ideas
            NOT = { has_country_flag = army_doctrine_type_6 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = ARMY_DOCTRINE_DEFENSIVE_POSTURE_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Defensive Posture - NOT UNLOCKED
	option = {
		name = wwu_doctrine.4.option.defensive_posture.invalid
    
        trigger = {
            NOT = { full_idea_group = wwu_defensive_ideas }
        }
        
        custom_tooltip = DOCTRINE_LACK_DEFENSIVE_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = ARMY_DOCTRINE_DEFENSIVE_POSTURE_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Exit
    option = {
		name = wwu_doctrine.4.option.return
        
        ai_chance = {
            factor = 20
        }
	}
    
    after = {
        hidden_effect = {
            if = {
                limit = {
                    ai = no
                }
                country_event = { id = wwu_doctrine.1 }
            }
        }
    }
}

#-------------------------
# Insurrection Doctrine
#-------------------------
country_event = {
	id = wwu_doctrine.5
	title = wwu_doctrine.5.title
	desc = wwu_doctrine.5.desc
	picture = DEFIAS_BANDIT_eventPicture
	
	is_triggered_only = yes
    
    # Conflict - NOT SELECTED
	option = {
		name = wwu_doctrine.5.option.conflict
    
        trigger = {
            NOT = { has_country_flag = rebel_doctrine_type_1 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = REBEL_DOCTRINE_CONFLICT_TT
        
        hidden_effect = {
            clear_rebel_doctrine_flags = yes
            set_country_flag = rebel_doctrine_type_1
        }
        
        ai_chance = {
            factor = 20
        }
    }
    # Conflict - SELECTED
	option = {
		name = wwu_doctrine.5.option.conflict.selected
    
        trigger = {
            has_country_flag = rebel_doctrine_type_1
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = REBEL_DOCTRINE_CONFLICT_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Conflict - INVALID
	option = {
		name = wwu_doctrine.5.option.conflict.invalid
    
        trigger = {
            NOT = { has_country_flag = rebel_doctrine_type_1 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = REBEL_DOCTRINE_CONFLICT_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Bribery - NOT SELECTED
	option = {
		name = wwu_doctrine.5.option.bribery
    
        trigger = {
            NOT = { has_country_flag = rebel_doctrine_type_2 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = REBEL_DOCTRINE_BRIBERY_TT
        
        hidden_effect = {
            clear_rebel_doctrine_flags = yes
            set_country_flag = rebel_doctrine_type_2
        }
        
        ai_chance = {
            factor = 20
        }
    }
    # Bribery - SELECTED
	option = {
		name = wwu_doctrine.5.option.bribery.selected
    
        trigger = {
            has_country_flag = rebel_doctrine_type_2
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = REBEL_DOCTRINE_BRIBERY_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Bribery - INVALID
	option = {
		name = wwu_doctrine.5.option.bribery.invalid
    
        trigger = {
            NOT = { has_country_flag = rebel_doctrine_type_2 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = REBEL_DOCTRINE_BRIBERY_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Corruption - NOT SELECTED
	option = {
		name = wwu_doctrine.5.option.corruption
    
        trigger = {
            NOT = { has_country_flag = rebel_doctrine_type_3 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = REBEL_DOCTRINE_CORRUPTION_TT
        
        hidden_effect = {
            clear_rebel_doctrine_flags = yes
            set_country_flag = rebel_doctrine_type_3
        }
        
        ai_chance = {
            factor = 20
        }
    }
    # Corruption - SELECTED
	option = {
		name = wwu_doctrine.5.option.corruption.selected
    
        trigger = {
            has_country_flag = rebel_doctrine_type_3
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = REBEL_DOCTRINE_CORRUPTION_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Corruption - INVALID
	option = {
		name = wwu_doctrine.5.option.corruption.invalid
    
        trigger = {
            NOT = { has_country_flag = rebel_doctrine_type_3 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = REBEL_DOCTRINE_CORRUPTION_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Garrison - NOT SELECTED
	option = {
		name = wwu_doctrine.5.option.garrison
    
        trigger = {
            NOT = { has_country_flag = rebel_doctrine_type_4 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = REBEL_DOCTRINE_GARRISON_TT
        
        hidden_effect = {
            clear_rebel_doctrine_flags = yes
            set_country_flag = rebel_doctrine_type_4
        }
        
        ai_chance = {
            factor = 20
        }
    }
    # Garrison - SELECTED
	option = {
		name = wwu_doctrine.5.option.garrison.selected
    
        trigger = {
            has_country_flag = rebel_doctrine_type_4
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = REBEL_DOCTRINE_GARRISON_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Garrison - INVALID
	option = {
		name = wwu_doctrine.5.option.garrison.invalid
    
        trigger = { 
            NOT = { has_country_flag = rebel_doctrine_type_4 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = REBEL_DOCTRINE_GARRISON_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Exit
    option = {
		name = wwu_doctrine.5.option.return
        
        ai_chance = {
            factor = 20
        }
	}
    
    after = {
        hidden_effect = {
            if = {
                limit = {
                    ai = no
                }
                country_event = { id = wwu_doctrine.1 }
            }
        }
    }
}

#-------------------------
# Helper Events
#-------------------------
# These are to delay the kill_units effect so it doesn't occur in the same frame as the province controller change, which causes a CTD

# Rebel Kill
province_event = {
	id = wwu_doctrine.50
	title = wwu_doctrine.50.title
	desc = wwu_doctrine.50.desc
	picture = EQUALITY_eventPicture
	
    hidden = yes
	is_triggered_only = yes

	option = {
		name = wwu_doctrine.50.option.a
    
        kill_units = { 
            who = REB
        }
    }
}
# Rebel Occupation Revert
province_event = {
	id = wwu_doctrine.51
	title = wwu_doctrine.51.title
	desc = wwu_doctrine.51.desc
	picture = EQUALITY_eventPicture
	
    hidden = yes
	is_triggered_only = yes

	option = {
		name = wwu_doctrine.51.option.a
    
        change_controller = owner
    }
}

#-------------------------
# Loop Events
#-------------------------
# This is to loop the initial menu event
country_event = {
	id = wwu_doctrine.52
	title = wwu_doctrine.52.title
	desc = wwu_doctrine.52.desc
	picture = EQUALITY_eventPicture
	
    hidden = yes
	is_triggered_only = yes

	option = {
		name = wwu_doctrine.51.option.a
    
        country_event = { id = wwu_doctrine.1 }
    }
}


#-------------------------
# Notification Events
#-------------------------
# These notify the opposing party if at war with a nation with the following doctrines active.
# This is so a player can see why the doctrine differences are occuring and allow for counter-play

# Notification: Sow Terror
country_event = {
	id = wwu_doctrine.60
	title = wwu_doctrine.60.title
	desc = wwu_doctrine.60.desc
	picture = ALARM_O_BOT_eventPicture
	
    trigger = {
        NOT = { has_country_flag = doctrine_notify_sow_terror }
        is_at_war = yes
        any_country = {
            war_with = ROOT
            has_country_flag = siege_type_2
        }
    }

    mean_time_to_happen = { 
        days = 1 
    }
    
    immediate = {
        hidden_effect = {
            random_country = {
                limit = {
                    war_with = ROOT
                    has_country_flag = siege_type_2
                }
                save_event_target_as = enemy_country
            }
            
            set_country_flag = doctrine_notify_sow_terror
        }
    }
    
	option = {
		name = wwu_doctrine.60.option.a
    
        custom_tooltip = SIEGE_DOCTRINE_SOW_TERROR_ENEMY_TT
    }
}

# Notification: Slash and Burn
country_event = {
	id = wwu_doctrine.61
	title = wwu_doctrine.61.title
	desc = wwu_doctrine.61.desc
	picture = ALARM_O_BOT_eventPicture
	
    trigger = {
        NOT = { has_country_flag = doctrine_notify_slash_and_burn }
        is_at_war = yes
        any_country = {
            war_with = ROOT
            has_country_flag = siege_type_3
        }
    }

    mean_time_to_happen = { 
        days = 1 
    }
    
    immediate = {
        hidden_effect = {
            random_country = {
                limit = {
                    war_with = ROOT
                    has_country_flag = siege_type_3
                }
                save_event_target_as = enemy_country
            }
            
            set_country_flag = doctrine_notify_slash_and_burn
        }
    }
    
	option = {
		name = wwu_doctrine.61.option.a
    
        custom_tooltip = SIEGE_DOCTRINE_SLASH_AND_BURN_ENEMY_TT
    }
}

# Notification: Coup de Grace
country_event = {
	id = wwu_doctrine.62
	title = wwu_doctrine.62.title
	desc = wwu_doctrine.62.desc
	picture = ALARM_O_BOT_eventPicture
	
    trigger = {
        NOT = { has_country_flag = doctrine_notify_coup_de_grace }
        is_at_war = yes
        any_country = {
            war_with = ROOT
            has_country_flag = siege_type_4
        }
    }

    mean_time_to_happen = { 
        days = 1 
    }
    
    immediate = {
        hidden_effect = {
            random_country = {
                limit = {
                    war_with = ROOT
                    has_country_flag = siege_type_4
                }
                save_event_target_as = enemy_country
            }
            
            set_country_flag = doctrine_notify_coup_de_grace
        }
    }
    
	option = {
		name = wwu_doctrine.62.option.a
    
        custom_tooltip = SIEGE_DOCTRINE_COUP_DE_GRACE_ENEMY_TT
    }
}

# Notification: Martyrdom
country_event = {
	id = wwu_doctrine.63
	title = wwu_doctrine.63.title
	desc = wwu_doctrine.63.desc
	picture = ALARM_O_BOT_eventPicture
	
    trigger = {
        NOT = { has_country_flag = doctrine_notify_martyrdom }
        is_at_war = yes
        any_country = {
            war_with = ROOT
            has_country_flag = homeland_type_2
        }
    }

    mean_time_to_happen = { 
        days = 1 
    }
    
    immediate = {
        hidden_effect = {
            random_country = {
                limit = {
                    war_with = ROOT
                    has_country_flag = homeland_type_2
                }
                save_event_target_as = enemy_country
            }
            
            set_country_flag = doctrine_notify_martyrdom
        }
    }
    
	option = {
		name = wwu_doctrine.63.option.a
    
        custom_tooltip = HOMELAND_DOCTRINE_MARTYRDOM_ENEMY_TT
    }
}

# Notification: Sabotage
country_event = {
	id = wwu_doctrine.64
	title = wwu_doctrine.64.title
	desc = wwu_doctrine.64.desc
	picture = ALARM_O_BOT_eventPicture
	
    trigger = {
        NOT = { has_country_flag = doctrine_notify_sabotage }
        is_at_war = yes
        any_country = {
            war_with = ROOT
            has_country_flag = homeland_type_3
        }
    }

    mean_time_to_happen = { 
        days = 1 
    }
    
    immediate = {
        hidden_effect = {
            random_country = {
                limit = {
                    war_with = ROOT
                    has_country_flag = homeland_type_3
                }
                save_event_target_as = enemy_country
            }
            
            set_country_flag = doctrine_notify_sabotage
        }
    }
    
	option = {
		name = wwu_doctrine.64.option.a
    
        custom_tooltip = HOMELAND_DOCTRINE_SABOTAGE_ENEMY_TT
    }
}

# Notification: Slander
country_event = {
	id = wwu_doctrine.65
	title = wwu_doctrine.65.title
	desc = wwu_doctrine.65.desc
	picture = ALARM_O_BOT_eventPicture
	
    trigger = {
        NOT = { has_country_flag = doctrine_notify_slander }
        is_at_war = yes
        any_country = {
            war_with = ROOT
            has_country_flag = homeland_type_4
        }
    }

    mean_time_to_happen = { 
        days = 1 
    }
    
    immediate = {
        hidden_effect = {
            random_country = {
                limit = {
                    war_with = ROOT
                    has_country_flag = homeland_type_4
                }
                save_event_target_as = enemy_country
            }
            
            set_country_flag = doctrine_notify_slander
        }
    }
    
	option = {
		name = wwu_doctrine.64.option.a
    
        custom_tooltip = HOMELAND_DOCTRINE_SLANDER_ENEMY_TT
    }
}

# Reset Notification flags
country_event = {
	id = wwu_doctrine.99
	title = wwu_doctrine.99.title
	desc = wwu_doctrine.99.desc
	picture = EQUALITY_eventPicture
	
    hidden = yes
	is_triggered_only = yes

    trigger = {
        # Only remove the flags if ROOT is no longer at war, as this can be called whilst ROOT remains at war.
        is_at_war = no
    }

	option = {
		name = wwu_doctrine.99.option.a
    
        clr_country_flag = doctrine_notify_sow_terror
        clr_country_flag = doctrine_notify_slash_and_burn
        clr_country_flag = doctrine_notify_coup_de_grace
        clr_country_flag = doctrine_notify_martyrdom
        clr_country_flag = doctrine_notify_sabotage
        clr_country_flag = doctrine_notify_slander
    }
}

#-------------------------
# Defaults
#-------------------------
country_event = {
	id = wwu_doctrine.100
	title = wwu_doctrine.100.title
	desc = wwu_doctrine.100.desc
	picture = EQUALITY_eventPicture
	
    hidden = yes
	is_triggered_only = yes
    
    trigger = {
        NOT = { has_country_flag = setup_default_doctrines }
    }
    
    immediate = {
        hidden_effect = {
            set_country_flag = setup_default_doctrines
        }
    }
    
	option = {
		name = wwu_doctrine.100.option.a
    
        # Default for all
        set_country_flag = siege_type_1
        set_country_flag = homeland_type_1
        set_country_flag = army_doctrine_type_1
        set_country_flag = rebel_doctrine_type_1
        set_country_flag = ai_doctrine_coo
        
        # AI remains on default for first 50 years
        if = {
            limit = {
                ai = yes
            }
            
            add_country_modifier = {
                name = doctrine_ai_cooldown
                duration = 18250 # 50 years
            }
        }
    }
}
